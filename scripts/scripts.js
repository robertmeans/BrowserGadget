function save_order(){var e=new Array;$("ul#sortable li").each(function(){e.push($(this).attr("id"))}),$.ajax({url:"edit_order_ajax.php",method:"POST",dataType:"text",data:{update:1,reorder:e},success:function(e){console.log(e)}})}function save_new_positions(){var t=[];$(".updated").each(function(){var e=$(this).attr("id").substring(2);t.push([e,$(this).attr("sort")]),$(this).removeClass("updated")}),$.ajax({url:"sort_note.php",method:"POST",dataType:"text",data:{update:1,positions:t},success:function(e){console.log(e)}})}function save_search_order(){var e=[];$("ul#sortablesearch li.ct").each(function(){e.push($(this).attr("id"))}),$.ajax({url:"search_order_owner_ajax.php",method:"POST",dataType:"text",data:{update:1,reorder:e},success:function(e){console.log(e)}})}function save_search_shared_with(){var e=[];$("ul#sortablesearch li.ct").each(function(){e.push($(this).attr("id"))}),$.ajax({url:"search_order_shared_with_ajax.php",method:"POST",dataType:"text",data:{update:1,reorder:e},success:function(e){console.log(e)}})}setTimeout(function(){$("#success-wrap").fadeOut(750)},1250),$(document).ready(function(){$("a.project-links-empty").each(function(){$(this).closest("li").addClass("ea")})}),$(document).ready(function(){$(document).on("click","a[data-role=srcr]",function(){var e,t=$(this).data("id"),a=document.getElementById(t).value;/^ *$/.test(a)?(e=document.getElementById("h_"+t).value,document.getElementById(t).value=e,document.getElementById(t).focus()):(document.getElementById("h_"+t).value=a,document.getElementById(t).value="",document.getElementById(t).select())})}),$(document).ready(function(){$(document).on("click","a[data-role=srcb]",function(){var e=$(this).data("id"),e=document.getElementById(e).value,t=document.createElement("textarea"),a=(document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),$(this));$(this).html('<i class="fas fa-check fa-fw"></i>'),setTimeout(function(){a.html('<i class="far fa-copy fa-fw"></i>')},1e3)})}),$(document).ready(function(){$(document).on("click","a[data-role=cb]",function(){var e=$(this).data("id"),e=document.getElementById("cb_"+e).innerText,t=document.createElement("textarea"),a=(document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),$(this));$(this).html('<i class="fas fa-check fa-fw"></i>'),setTimeout(function(){a.html('<i class="far fa-copy fa-fw"></i>')},1e3)})}),$("a.static").click(function(e){e.preventDefault()}),$(document).ready(function(){hiConfig={sensitivity:3,interval:200,timeout:100,over:function(){$(this).children(".dropdown").stop().slideDown(250)},out:function(){$(this).children(".dropdown").slideUp(50)}},$(".menuitem").hoverIntent(hiConfig)}),$(document).ready(function(){$("#sortable").sortable({update:function(e,t){save_order()}})}),$(document).ready(function(){$("#sortanote").sortable({update:function(e,t){$(this).children().each(function(e){$(this).attr("sort")!=e+1&&$(this).attr("sort",e+1).addClass("updated")}),save_new_positions()}})}),$("#sortablesearch").sortable({cancel:"li.static",update:function(e,t){$("#sortablesearch li.static").each(function(){for(var e=$(this).attr("stay").replace("static-",""),t=$(this).index();t<e;)$(this).next().insertBefore(this),t++;for(;e<t;)$(this).prev().insertAfter(this),t--}),($(this).hasClass("owner")?save_search_order:save_search_shared_with)()}}),$(document).ready(function(){$("#sortablesearch li.static").each(function(){$(this).attr("stay","static-"+$(this).index())})}),$(document).ready(function(){$(document).on("click","#emailBob",function(){$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$("#contactForm").serialize(),beforeSend:function(e){$("#msg").removeClass("show"),$("#emailBob-btn").html('<div class="sending-holup"><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></div>')},success:function(e){e&&(console.log(e),"ok"==e.signal?($("#msg").removeClass("show"),$("#contactForm").html('<div class="success">Your message was sent successfully.</div><div id="emailBob-btn-insert"><div class="reset-contact">Reset</div></div>')):($("#msg").addClass("show"),$("#errorli").html(e.li),$("#emailBob-btn").html('<div id="emailBob">Send</div>')))},error:function(){$("#errorli").html("<li>There was an error between your IP and the server. Please try again later.</li>")},complete:function(){}})})}),$(document).ready(function(){$(document).on("click",".reset-contact",function(){$("#contactForm").load("_insert-contact.php")})}),$(document).ready(function(){$("#d").click(function(){$(this).addClass("selected"),$("#dict").addClass("selected"),$("#dic-row").addClass("selected"),$("#t").hasClass("selected")&&($("#t").removeClass("selected"),$("#thes").removeClass("selected"),$("#the-row").removeClass("selected"))}),$("#t").click(function(){$(this).addClass("selected"),$("#thes").addClass("selected"),$("#the-row").addClass("selected"),$("#d").hasClass("selected")&&($("#d").removeClass("selected"),$("#dict").removeClass("selected"),$("#dic-row").removeClass("selected"))}),$("input:checkbox.es").change(function(){$(this).is(":checked")?($(".edit").addClass("checked"),$(".editcheck").addClass("show"),$(".choice.edit").addClass("on")):($(".edit").removeClass("checked"),$(".editcheck").removeClass("show"),$(".choice.edit").removeClass("on"))}),$("input:checkbox.ts").change(function(){$(this).is(":checked")?($(".share").addClass("checked"),$(".sharecheck").addClass("show"),$(".choice.share").addClass("on")):($(".share").removeClass("checked"),$(".sharecheck").removeClass("show"),$(".choice.share").removeClass("on"))}),$(document).on("click","label.edit2",function(){$(this).hasClass("checked")?($("label.edit2").removeClass("checked"),$("#edit2").val("0"),$(".editcheck2").removeClass("show"),$(".choice.edit2").removeClass("on")):($("label.edit2").addClass("checked"),$("#edit2").val("1"),$(".editcheck2").addClass("show"),$(".choice.edit2").addClass("on"))}),$(document).on("click","label.share2",function(){$(this).hasClass("checked")?($("label.share2").removeClass("checked"),$("#share2").val("0"),$(".sharecheck2").removeClass("show"),$(".choice.share2").removeClass("on")):($("label.share2").addClass("checked"),$("#share2").val("1"),$(".sharecheck2").addClass("show"),$(".choice.share2").addClass("on"))}),$(".tab").hide(),$(".tab.active").show(),$(".tabs .tab-links input").on("click",function(e){var t=$(this).attr("name"),t="#".concat(t),a=("tab4"!==$(this).attr("name")&&$("#rememberOpenTab").val(t),$("#rememberOpenTab").val());"tab4"===$(this).attr("name")&&$(this).hasClass("noteson")?($(this).removeClass("noteson"),$("#tab4").slideUp(100),$("#rememberOpenTab").val()?$(a).slideDown():$(".tab.active").slideDown(100)):($("#yotab4").hasClass("noteson")?$("#yotab4").removeClass("noteson"):$(this).addClass("noteson"),$(".tabs "+t).slideDown(100).siblings().slideUp(100),$(this).closest("li").addClass("active").siblings().removeClass("active"))}),$(".project-details").hide(),$(".review-project").on("click",function(){var e=$(this),t=$(this).next(".project-details");$(".project-details").not(t).slideUp(),$(".review-project").not(e).removeClass("active"),$(t).slideToggle(),$(e).hasClass("active")?$(e).removeClass("active"):$(e).addClass("active")}),$(".review-project a.gth-link").on("click",function(e){var t=window.location.href;e.stopPropagation(),$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){console.log(e),"ok"==e&&(-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"))},error:function(e){console.log(e)},complete:function(){}})})}),$(document).ready(function(){$(document).on("click",".gth-link",function(e){var t=window.location.href;e.stopPropagation(),$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){console.log(e),"ok"==e&&(-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"))},error:function(e){console.log(e)},complete:function(){}})}),$(document).on("click",".vpp-link",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){console.log(e),-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com")},error:function(e){},complete:function(){}})}),$(document).on("click",".osf-link",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){console.log(e),"ok"==e&&(-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"))},error:function(e){console.log(e)},complete:function(){}})}),$(document).on("click",".eo-link",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){"ok"==e?-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"):-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget/new_project.php"):window.location.replace("https://browsergadget.com/new_project.php")},error:function(e){},complete:function(){}})}),$(document).on("click",".dp-link",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){"ok"==e&&(-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"))},error:function(e){},complete:function(){}})}),$(document).on("click",".sp-link",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){"ok"==e?-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"):alert("Something went awry. Will you please report this at the bottom of this page through the contact form so I can fix it? Reference ID: 1120230947")},error:function(){alert("Something went awry. Will you please report this at the bottom of this page through the contact form so I can fix it? Reference ID: 1120230948")},complete:function(){}})}),$(document).on("click",".epd-link",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){console.log(e),"ok"==e&&(-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"))},error:function(e){},complete:function(){}})}),$(document).on("click",".cancel-deets",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:{"cancel-deets":"cancel"},success:function(e){console.log(e),"ok"==e&&(-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"))},error:function(e){},complete:function(){}})}),$(document).on("click",".submit-deets",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),beforeSend:function(e){$("#message").removeClass("red"),$("#buttons").html('<div class="verifying"><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></div>')},success:function(e){console.log(e),"ok"==e.signal?-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"):($("#message").addClass("red"),$("#msg-ul").html(e.li),$("#buttons").html('<a class="cancel cancel-deets">Cancel</a><a class="submit submit-deets">Try again</a>'))},error:function(e){console.log(e)},complete:function(){}})}),$("#delete-form").keyup(function(e){13===e.keyCode&&$(".delete-my-project").click()}),$("#delete-form").submit(function(e){e.preventDefault()}),$(document).on("click",".delete-my-project",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),beforeSend:function(e){$("#message").removeClass("red"),$("#buttons").html('<div class="verifying"><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></div>')},success:function(e){console.log(e),"ok"==e.signal?-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"):($("#message").addClass("delete-page"),$("#message").addClass(e.class),$("#msg-ul").html(e.li),$("#buttons").html('<a class="cancel cancel-deets">Never mind</a><a class="delete delete-my-project">Try again?</a>'))},error:function(e){},complete:function(){}})}),$(document).on("click",".cancel-new-project",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$("#new-project-cancel-btn").serialize(),success:function(e){console.log(e),"ok"==e?-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"):($("#message").addClass("red"),$("#msg-ul").html("Something went wrong. May be a server thing. You can try again but if it still doesn't work you will need to try later"),$("#buttons").html('<a class="cancel cancel-new-project">Cancel</a><a class="submit submit-deets">Try again</a>'))},error:function(e){console.log(e)},complete:function(){}})}),$("#sharep").keyup(function(e){13===e.keyCode&&$(".shareproject").click()}),$("#sharep").submit(function(e){e.preventDefault()}),$(document).on("click",".shareproject",function(){window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),beforeSend:function(e){$("#message").removeAttr("class"),$("#user-email").removeClass("red"),$("#buttons").html('<div class="verifying"><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></div>')},success:function(e){console.log(e),"ok"==e.signal?($("#user-email").removeClass("red"),$("#message").addClass(e.class),$("#msg-ul").html(e.li),$("#user-email").val(""),$(".edit").removeClass("checked"),$(".editcheck").removeClass("show"),$(".share").removeClass("checked"),$(".sharecheck").removeClass("show"),$("#buttons").html('<a class="shareproject submit full-width">Add another</a>'),$("#shared-list").html(e.shared_names),$("html, body").animate({scrollTop:0},250)):($("#message").addClass(e.class),$("#msg-ul").html(e.li),$("#user-email").addClass(e.eclass),$("#buttons").html('<a class="shareproject submit full-width">Try again</a>'))},error:function(e){},complete:function(){}})}),$(document).on("click",".removeshareduser",function(){var t;window.location.href;0!=$("#theModal").length&&(t=document.getElementById("theModal")),$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),beforeSend:function(e){$("#message").removeAttr("class")},success:function(e){console.log(e),"ok"==e.signal?($("#message").addClass(e.class),$("#msg-ul").html(e.li),$("#shared-list").html(e.shared_names),void 0!==t&&(t.style.display="none"),$("html, body").animate({scrollTop:0},250)):($("#message").addClass(e.class),$("#msg-ul").html(e.li),$("#buttons").html('<a class="shareproject submit full-width">Try again</a>'))},error:function(e){},complete:function(){}})}),$(document).on("click",".editshareduser",function(){var e=$(this).data("id"),t=$("#"+e+"_project_id").val(),a=$("#"+e+"_dsuser").val(),o=$("#"+e+"_project_name").val(),n=$("#"+e+"_username").val(),s=$("#"+e+"_edit").val(),e=$("#"+e+"_share").val(),l=document.getElementById("theModal");$("#smht").html(n),$("#delete-shared-user").val(a),$("#pro-id").val(t),$("#username").val(n),$("#project_name").val(o),"1"==s?($("#edit2").val("1"),$("label.edit2").addClass("checked"),$(".editcheck2").addClass("show"),$(".choice.edit2").addClass("on")):($("#edit2").val("0"),$("label.edit2").removeClass("checked"),$(".editcheck2").removeClass("show"),$(".choice.edit2").removeClass("on")),"1"==e?($("#share2").val("1"),$("label.share2").addClass("checked"),$(".sharecheck2").addClass("show"),$(".choice.share2").addClass("on")):($("#share2").val("0"),$("label.share2").removeClass("checked"),$(".sharecheck2").removeClass("show"),$(".choice.share2").removeClass("on")),l.style.display="block"}),$(document).on("click",".updateshareduser",function(){var e=$("#delete-shared-user").val(),t=$("#pro-id").val(),a=$("#edit2").val(),o=$("#share2").val(),n=$("#project_name").val(),s=$("#username").val();$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:{updateshareduser:"yo",project_id:t,project_name:n,username:s,esuser:e,edit:a,share:o},beforeSend:function(e){},success:function(e){"ok"==e.signal&&($("#message").addClass(e.class),$("#msg-ul").html(e.li),$("#shared-list").html(e.shared_names),theModal.style.display="none",$("html, body").animate({scrollTop:0},250))},error:function(e){},complete:function(){}})}),$(document).on("click",".removeme",function(){var t=window.location.href,a=$("#project_name").val();$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),beforeSend:function(e){return $("#message").removeAttr("class"),$("#user-email").removeClass("red"),confirm("Confirm: Remove yourself from "+a+"?")},success:function(e){console.log(e),"ok"==e.signal?-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"):($("#message").addClass(e.class),$("#msg-ul").html(e.li),$("#buttons").html('<a class="shareproject submit full-width">Try again</a>'))},error:function(e){console.log(e)},complete:function(){}})}),$(document).on("click",".leaveproject",function(){var t=window.location.href,a=$("#project_name").val();$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),beforeSend:function(e){return confirm("Confirm: Remove yourself from "+a+"?")},success:function(e){"ok"==e&&(-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"))},error:function(e){},complete:function(){}})}),$(document).on("click",".np-link",function(){var t=window.location.href;$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),success:function(e){console.log(e),"ok"==e&&(-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"))},error:function(e){},complete:function(){}})}),$("#new-project-form").keyup(function(e){13===e.keyCode&&$(".createnewproject").click()}),$("#new-project-form").submit(function(e){e.preventDefault()}),$(document).on("click",".createnewproject",function(){var t,a=window.location.href;t=document.getElementById("can-opt")?"off":"on",$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:$(this).closest("form").serialize(),beforeSend:function(e){$("#message").removeClass("red"),$("#buttons").html('<div class="verifying"><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></div>')},success:function(e){console.log(e),"ok"==e.signal?-1<a.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com"):($("#message").addClass("red"),$("#msg-ul").html(e.li),"off"==t?$("#buttons").html('<a class="submit full-width createnewproject">Try again</a>'):$("#buttons").html('<a class="cancel cancel-new-project">Cancel</a><a class="submit createnewproject">Try again</a>'))},error:function(e){console.log(e)},complete:function(){}})})}),$(document).on("click","#textbox",function(){document.getElementById("textbox").addEventListener("keydown",function(e){var t;"Tab"==e.key&&(e.preventDefault(),e=this.selectionStart,t=this.selectionEnd,this.value=this.value.substring(0,e)+"\t"+this.value.substring(t),this.selectionStart=this.selectionEnd=e+1)})}),$(document).ready(function(){$("#email-bob").hide(),$("#toggle-contact-form").click(function(){return $(this).toggleClass("active").next().slideToggle(600),"close"===$.trim($(this).text())?$(this).html('<i class="fa fa-star" aria-hidden="true"></i><span class="tiny-mobile">&nbsp;&nbsp;</span> comments | questions | suggestions <span class="tiny-mobile">&nbsp;&nbsp;</span><i class="fa fa-star" aria-hidden="true"></i>'):$(this).html('<i class="fa fa-times-circle close-left" aria-hidden="true"></i> close <i class="fa fa-times-circle close-right" aria-hidden="true"></i>'),!1})}),$("form.ajax").on("submit",function(){var e=$(this),t=e.attr("action"),a=e.attr("method"),n={};return e.find("[name]").each(function(e,t){var a=$(this),o=a.attr("name"),t=a.val();n[o]=t}),$.ajax({url:t,type:a,data:n,success:function(e){}}),!1}),$(document).ready(function(){$("#edit-content").click(function(){var e=document.getElementById("static-sort"),t=document.getElementById("edit-content");e.classList.toggle("edit-shim"),t.classList.toggle("active");var e=(e=document.getElementById("et1")).checked?"0":"1",t=$("#userid").val(),a=$("#curpro").val(),o=$("#ownShare").val(),o=($.ajax({url:"ajax_edit_toggle.php",method:"post",data:{ownShare:o,editValue:e,userId:t,currentProject:a},success:function(e){console.log("update successful")}}),$('#et-form input[type="checkbox"]'));o.attr("checked",!o.attr("checked"))})}),$(document).ready(function(){$(document).on("click","a[data-role=update]",function(){var e=$(this).data("id"),t=$("#"+e).children("a[data-target=urlz]").attr("href"),a=$("#"+e).children("a[data-target=urlz]").text(),o=$("#"+e).children("span[data-target=rowid]").text(),e=$("#"+e).children("span[data-target=idcount]").text(),n=document.getElementById("theModal");$("#urlz").val(t),$("#name").val(a),$("#rowid").val(o),$("#idcount").val(e),n.style.display="block"}),document.getElementsByClassName("closefp").length&&(document.getElementsByClassName("closefp")[0].onclick=function(){theModal.style.display="none"}),$(".update-bookmark").click(function(){var t=window.location.href,a=$("#idcount").val(),o=$("#name").val(),n=$("#urlz").val(),e=$("#rowid").val(),s=$("#cp").val();/^((http|https|ftp):\/\/)/.test(n)||(n="http://"+n),""==(o&&n)&&(theModal.style.display="none",exit()),$.ajax({dataType:"JSON",url:"_form-processing.php",type:"POST",data:{updatebookmark:"yo",name:o,urlz:n,rowid:e,cp:s},success:function(e){"ok"==e?($("#"+a).children("a[data-target=urlz]").attr("href",n),$("#"+a).children("a[data-target=urlz]").text(o),$("#"+a).closest("li").removeClass("ea"),$("#"+a).children("a[data-target=urlz]").removeClass("project-links-empty"),$("#"+a).children("a[data-target=urlz]").removeClass("shim"),$("#"+a).children("a[data-target=urlz]").addClass("project-links")):-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com")},error:function(e){console.log(e)},complete:function(){}}),theModal.style.display="none"}),$(".delete-bookmark").click(function(){var t=window.location.href,a=$("#idcount").val(),e=$("#rowid").val(),o=$("#cp").val();$.ajax({dataType:"JSON",url:"_form-processing.php",method:"POST",data:{deletebookmark:"yo",rowid:e,cp:o},success:function(e){"ok"==e?($("#"+a).children("a[data-target=urlz]").attr("href",""),$("#"+a).children("a[data-target=urlz]").text(""),$("#"+a).closest("li").addClass("ea"),$("#"+a).children("a[data-target=urlz]").removeClass("project-links"),$("#"+a).children("a[data-target=urlz]").addClass("shim"),$("#"+a).children("a[data-target=urlz]").addClass("project-links-empty")):-1<t.indexOf("localhost")?window.location.replace("http://localhost/browsergadget"):window.location.replace("https://browsergadget.com")},error:function(e){console.log(e)},complete:function(){}}),theModal.style.display="none"})}),$(document).ready(function(){document.getElementById("header-msg"),document.getElementById("thatll-do"),document.getElementById("im-watchin");$(document).on("click","a[data-role=notes]",function(){var e=document.getElementById("aan-modal"),t=document.getElementById("update-note"),a=document.getElementById("modify-note"),o=document.getElementById("thats-all"),n=$("[data-role=notecount]").val(),s=$("[data-role=notecountz]").val(),n=s=void 0===s?n:s;0==n?($(".aan-modal-footer").attr("class","aan-modal-footer"),$("#im-watchin").html("Your first little note. Aww. :-)")):1==n||2==n||3==n||4==n?($(".aan-modal-footer").attr("class","aan-modal-footer"),$("#im-watchin").html("&nbsp;")):5==n?($(".aan-modal-footer").attr("class","aan-modal-footer num5"),$("#im-watchin").html("You have 5 notes remaining.")):6==n?($(".aan-modal-footer").attr("class","aan-modal-footer"),$("#im-watchin").html("&nbsp;")):7==n?($(".aan-modal-footer").attr("class","aan-modal-footer num8"),$("#im-watchin").html("This is note #8. There is a 10 note limit.")):8==n?($(".aan-modal-footer").attr("class","aan-modal-footer num9"),$("#im-watchin").html("This is note #9. You're a note maniac.")):9==n?($(".aan-modal-footer").attr("class","aan-modal-footer num10"),$("#im-watchin").html("Don't say I didn't warn you.")):10==n&&(o.style.display="block",exit()),$("input#aanClipboard").prop("checked",!1),$("input#aanTruncate").prop("checked",!1),a.style.display="none",t.style.display="block",e.style.display="block"}),$(document).on("click","[data-role=notesClose]",function(){var e=document.getElementById("aan-modal"),t=document.getElementById("thats-all");$("#aanName").val(""),$("#aanUrl").val(""),$("#aanNote").val(""),$("input#aanClipboard").prop("checked",!1),$("input#aanTruncate").prop("checked",!1),e.style.display="none",t.style.display="none"}),$("#update-note").click(function(){var e=document.getElementById("aan-modal"),t=(document.getElementById("update-note"),document.getElementById("modify-note"),$("[data-role=maxsort]").val()),a=$("[data-role=maxsortz]").val(),t=(void 0===a&&(a="0"),Math.max(t,a)),a=$("[data-role=notecount]").val(),o=$("[data-role=notecountz]").val(),a=(void 0===o&&(o="0"),Math.max(a,o),$("#cp").val()),o=$("#uid").val(),n=$("#aanName").val(),s=$("#aanUrl").val(),l=$("#aanNote").val(),c=document.getElementById("aanClipboard"),i=document.getElementById("aanTruncate");""!=s?/^((http|https|ftp):\/\/)/.test(s)||(s="http://"+s):s="",c=c.checked?"1":"0",i=i.checked?"1":"0",$.ajax({url:"_form-processing.php",method:"post",data:{new_or_update_a_note:"yo",sort:t,cp:a,uid:o,name:n,urly:s,note:l,clipboard:c,truncate:i},success:function(e){$("#usersnotes").load("usersnotes.php")}}),$("#aanName").val(""),$("#aanUrl").val(""),$("#aanNote").val(""),$("input #aanClipboard").prop("checked",!1),$("input #aanTruncate").prop("checked",!1),e.style.display="none"}),$(document).on("click","a[data-role=deletenote]",function(){var t=document.getElementById("aan-modal"),a=$("#noteid").val(),o=$("#userid").val(),e=$(this).closest("form").find("[data-role=notename]").val();$(".aan-modal-header").addClass("delete"),$(".aan-modal-body").addClass("delete"),$("#header-msg").html("Confirm deletion"),$("#thatll-do").html('<input type="hidden" id="deletenoteid" value="'+a+'"><p>Confirm delete of note named, "'+e+'"</p><div id="buttons"><a class="cancel canceldeletenote">Cancel</a><a class="cancel delete deleteanote">Delete</a></div>'),$("#im-watchin").html("&nbsp;"),t.style.display="block",$(document).on("click",".deleteanote",function(){$("#deletenoteid").val();$.ajax({url:"_form-processing.php",method:"post",data:{delete_a_note:"yo",noteid:a},success:function(e){"ok"==e&&($("#header-msg").html("That note is history."),setTimeout(function(){t.style.display="none"},1500),$(".aan-modal-header").removeClass("delete"),$(".aan-modal-body").removeClass("delete"),$("#header-msg").html("* Notes are not shared within project."),$("#thatll-do").html('<form class="edit-link-form"><input type="hidden" name="cp" id="cp" value="'+a+'"><input type="hidden" name="uid" id="uid" value="'+o+'"><input type="hidden" name="nid" id="nid"><label>Name | > 18 chars will be trimmed<input name="name" id="aanName" class="edit-input link-name" type="text" maxlength="200"></label><label>URL | Makes the name a hyperlink<input name="url" id="aanUrl" class="edit-input link-name" type="text" maxlength="2000" placeholder="http://"></label><label>Note | Limit 10,000 characters<textarea name="note" id="aanNote" class="edit-input link-url" maxlength="10000" type="text"></textarea></label><label class="clipboard"><input type="checkbox" name="clipboard" id="aanClipboard"> Add &quot;Copy to clipboard&quot; icon (Grabs note to clipboard)</label><label class="clipboard"><input type="checkbox" name="truncate" id="aanTruncate"> Truncate long note (only show first 32 characters)</label><div class="submit-links"><a data-role="notesClose" class="cancel">Cancel</a><a id="update-note" class="submit">Add note</a><a id="modify-note" class="submit">Modify note</a></div></form>'),$("#usersnotes").load("usersnotes.php"))}})}),$(".canceldeletenote").click(function(){t.style.display="none",$(".aan-modal-header").removeClass("delete"),$(".aan-modal-body").removeClass("delete"),$("#header-msg").html("* Notes are not shared within project."),$("#thatll-do").html('<form class="edit-link-form"><input type="hidden" name="cp" id="cp" value="'+a+'"><input type="hidden" name="uid" id="uid" value="'+o+'"><input type="hidden" name="nid" id="nid"><label>Name | > 18 chars will be trimmed<input name="name" id="aanName" class="edit-input link-name" type="text" maxlength="200"></label><label>URL | Makes the name a hyperlink<input name="url" id="aanUrl" class="edit-input link-name" type="text" maxlength="2000" placeholder="http://"></label><label>Note | Limit 10,000 characters<textarea name="note" id="aanNote" class="edit-input link-url" maxlength="10000" type="text"></textarea></label><label class="clipboard"><input type="checkbox" name="clipboard" id="aanClipboard"> Add &quot;Copy to clipboard&quot; icon (Grabs note to clipboard)</label><label class="clipboard"><input type="checkbox" name="truncate" id="aanTruncate"> Truncate long note (only show first 32 characters)</label><div class="submit-links"><a data-role="notesClose" class="cancel">Cancel</a><a id="update-note" class="submit">Add note</a><a id="modify-note" class="submit">Modify note</a></div></form>')})}),$(document).on("click","a[data-role=modify-note]",function(){var e=$(this).data("id").substring(2),t=$("#z_"+e).find('a[data-target="urln"]').attr("href"),a=($("#z_"+e).find('[data-target="urln"]').text(),$("#z_"+e).find('[data-target="cb"]').text()),o=$("#z_"+e).find('a[data-id="'+e+'"]'),n=$("#z_"+e).find('[data-target="namet"]').text(),s=$("#z_"+e).find('a[data-id="trunc_'+e+'"]'),o=(o.length?$("input#aanClipboard").prop("checked",!0):$("input#aanClipboard").prop("checked",!1),s.length?$("input#aanTruncate").prop("checked",!0):$("input#aanTruncate").prop("checked",!1),$("#aanUrl").val(t),$("#aanName").val(n),$("#aanNote").val(a),$("#nid").val(e),$("#im-watchin").html("&nbsp;"),document.getElementById("aan-modal")),s=document.getElementById("update-note"),t=document.getElementById("modify-note");o.style.display="block",s.style.display="none",t.style.display="block"}),$("#modify-note").click(function(){var e=document.getElementById("aan-modal"),t=$("#nid").val(),a=$("#aanName").val(),o=$("#aanUrl").val(),n=$("#aanNote").val(),s=document.getElementById("aanClipboard"),l=document.getElementById("aanTruncate");""!=o?/^((http|https|ftp):\/\/)/.test(o)||(o="http://"+o):o="",s=s.checked?"1":"0",l=l.checked?"1":"0",$.ajax({url:"_form-processing.php",method:"post",data:{modify_a_note:"yo",name:a,urly:o,note:n,clipboard:s,truncate:l,nid:t},success:function(e){$("#usersnotes").load("usersnotes.php")}}),$("#aanName").val(""),$("#aanUrl").val(""),$("#aanNote").val(""),$("input #aanClipboard").prop("checked",!1),e.style.display="none"})}),$(document).ready(function(){$(document).on("click","i[data-role=edit-portal]",function(){var e;e=($("#multi-pass").html().length?$("#note-portal").html().replaceAll("<br>","\n").replaceAll("<br><br>","\n\n"):$("#note-portal").html().replaceAll("<br>\n","\n").replaceAll("<br>\n<br>","\n")).trim(),$("#note-portal").addClass("portal-display"),$("#nei").html('<a data-id="temp-value" data-role="unote" class="sicon"><div class="tooltip"><span class="tooltiptext type">Save Edit</span><i class="far fa-save"></i></div></a> <a data-role="cnote" data-id="tempz-value" class="reason-note rt cicon"><div class="tooltip right"><span class="tooltiptext type">Cancel Edit</span><i class="fas fa-ban"></i></div></a>'),$(".empty-note-portal")[0]?$("#note-portal").html('<form id="revise-proj-notes"><textarea id="proj-notes" name="proj-notes" maxlength="1250"></textarea></form>'):$("#note-portal").html('<form id="revise-proj-notes"><textarea id="proj-notes" name="proj-notes" maxlength="1250">'+e+"</textarea></form>")}),$(document).on("click","a[data-role=cnote]",function(){var e;e=$("#multi-pass").html().length?$("#multi-pass").html():$("#first-pass").html().length?$("#first-pass").html():"This project has nary a note.",$("#note-portal").html(e),$("#nei").html('<a class="eicon"><div class="tooltip"><span class="tooltiptext">Edit notes</span><i data-role="edit-portal" class="far fa-edit fa-fw"></i></div></a>'),$("#note-portal").removeClass("portal-display")}),$(document).on("click","a[data-role=unote]",function(){var a=$("#proj-notes").val().replaceAll("\n","<br>").trim();$.ajax({dataType:"JSON",url:"edit_project_notes.php",type:"POST",data:$("#revise-proj-notes").serialize(),beforeSend:function(e){},success:function(e){var t;e&&("ok"==e.signal?(t=$("#proj-notes").val(),$("#proj-notes").val()&&t.replace(/\s/g,"").length?($("#nei").html('<a class="eicon"><div class="tooltip"><span class="tooltiptext">Edit notes</span><i data-role="edit-portal" class="far fa-edit fa-fw"></i></div></a>'),$("#note-portal").removeClass("portal-display"),$("#note-portal").removeClass("empty-note-portal"),$("#note-portal").html(a),$("#multi-pass").html(a)):($("#nei").html('<a class="eicon"><div class="tooltip"><span class="tooltiptext">Edit notes</span><i data-role="edit-portal" class="far fa-edit fa-fw"></i></div></a>'),$("#note-portal").removeClass("portal-display"),$("#note-portal").addClass("empty-note-portal"),$("#note-portal").html("This project has nary a note."),$("#first-pass").html(""),$("#multi-pass").html(""))):$("#note-portal").html('<div class="alert alert-warning ump">'+e.msg+"</div>"))},error:function(){$("#note-portal").html('<div class="alert alert-warning">There was an error somehow, somewhere and I don\'t think that worked. Refresh this page and try again.</div>')},complete:function(){}})})});